<!DOCTYPE html>
<meta charset="utf-8">
<head>
	<meta charset="utf-8" />	
	<title>澳佳商城－注册</title>
	<link rel="stylesheet" type="text/css" href="css/reset.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<script src="js/jquery-1.12.4.min.js"></script>
	<script src="static/js/util.js"></script>
	<script>
		$(() => {

		    //注册按钮单击事件
			$('#registBtn').click(function () {
				let user = {
				    username: $('#username').val(),
					password: $('#password').val(),
					email: $('#email').val()
				}
				//如果协议选中
				if($('#allow')[0].checked){
				    regist(user)
				}else{
				    $('#msg').css('color','red').text('请阅读协议')
				}
            })
		})


		//用户注册
		function regist(user) {
			//console.log(user)
			req('/users/regist',user,'post').then(res => {
			    if(res.code === 200){
			        $('#msg').css('color','green').text('注册成功')
					$('#username').val('')
                    $('#password').val('')
                    $('#email').val('')
					$('#allow')[0].checked = false
				}else{
                    $('#msg').css('color','red').text(res.msg)
				}
			})
        }

	</script>
</head>
<body>

	<div class="register_con">
		<div class="l_con fl">
			<a href="index.html" class="reg_logo"><img width="200" src="images/logo1.png"></a>
			<div class="reg_slogan">足不出户  ·  新鲜每一天</div>
			<div class="reg_banner"></div>
		</div>

		<div class="r_con fr">
			<div class="reg_title clearfix">
				<h1>用户注册</h1>
				<a href="login.html">登录</a>
			</div>
			<div class="reg_form clearfix">
				<div id="msg" style="height: 40px; text-indent: 70px; line-height: 40px; font-size: 1.2em;">&nbsp;</div>
				<form action="#" method="post" id="reg_form">
					<input type="hidden" name="" value="e">
				<ul>
					<li>
						<label>用户名:</label>
						<input type="text" name="user_name" id="username">
						<span class="error_tip">提示信息</span>
					</li>
					<li>
						<label>密码:</label>
						<input type="password" name="pwd" id="password">
						<span class="error_tip">提示信息</span>
					</li>
					<li>
						<label>确认密码:</label>
						<input type="password" name="cpwd" id="cpwd">
						<span class="error_tip">提示信息</span>
					</li>
					<li>
						<label>邮箱:</label>
						<input type="text" name="email" id="email">
						<span class="error_tip">提示信息</span>
					</li>
			
					<li class="agreement">
						<input type="checkbox" name="allow" id="allow" >
						<label>同意"澳佳商城用户使用协议"</label>
						<span class="error_tip2">提示信息</span>
					</li>
					<li class="reg_sub">
						<input id="registBtn" type="button" value="注 册">
					</li>
				</ul>				
				</form>
			</div>
		</div>
	</div>
    
    <!--底部开始-->
	<div class="footer login_footer">
		<div class="links">
			<a href="">关于澳佳商城</a>
			<span>|</span>
			<a href="">热门培训</a>
			<span>|</span>
			<a href="">联系我们</a>
			<span>|</span>
			<a href="">在线报名</a>
		</div>
		<p>CopyRight © 2019 澳佳商城</p>
	</div>
	<!--底部结束-->
</body></html>